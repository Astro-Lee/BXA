
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to BXA’s documentation! &#8212; BXA (Bayesian X-ray Analysis) 2.8 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="BXA/Sherpa" href="sherpa-analysis.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sherpa-analysis.html" title="BXA/Sherpa"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">BXA (Bayesian X-ray Analysis) 2.8 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-bxa-s-documentation">
<h1>Welcome to BXA’s documentation!<a class="headerlink" href="#welcome-to-bxa-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="about-bayesian-x-ray-analysis-bxa">
<h2>About Bayesian X-ray Analysis (BXA)<a class="headerlink" href="#about-bayesian-x-ray-analysis-bxa" title="Permalink to this headline">¶</a></h2>
<p>BXA connects the nested sampling algorithm MultiNest to the
X-ray spectral analysis environments Xspec/Sherpa
for <strong>Bayesian Parameter Estimation</strong> and <strong>Model comparison</strong>.</p>
<p>BXA provides the following features:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>parameter estimation in arbitrary dimensions, which involves:</dt>
<dd><ul class="first last">
<li>finding the best fit</li>
<li>computing error bars</li>
<li>computing marginal probability distributions</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>plotting of spectral model vs. the data:</dt>
<dd><ul class="first last">
<li>for the best fit</li>
<li>for each of the solutions (posterior samples)</li>
<li>for each component</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>model selection:</dt>
<dd><ul class="first last">
<li>computing the evidence for the considered model,
ready for use in computing Bayes factors</li>
<li>unlike likelihood-ratios, not limited to nested models</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>model discovery:</dt>
<dd><ul class="first last">
<li>visualize deviations between model and data with Quantile-Quantile (QQ) plots.
QQ-plots do not require binning and are more comprehensive than residuals.
This will give you ideas on when to introduce more complex models, which
may again be tested with model selection</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>We start with some notes on <a class="reference internal" href="best-practise.html"><span class="doc">best practice</span></a> in currently common
Maximum Likelihood analysis (fitting) and Bayesian analysis.</li>
</ul>
<p>The usage is similar in Sherpa and Xspec conceptionally:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Define <strong>priors</strong> as transformations from the unit cube to the parameter space</dt>
<dd><ul class="first last">
<li><a class="reference internal" href="sherpa-analysis.html#sherpa-priors"><span class="std std-ref">In Sherpa</span></a></li>
<li><a class="reference internal" href="xspec-analysis.html#xspec-priors"><span class="std std-ref">In Xspec</span></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Run</strong> the analysis</dt>
<dd><ul class="first last">
<li><a class="reference internal" href="sherpa-analysis.html#sherpa-run"><span class="std std-ref">In Sherpa</span></a></li>
<li><a class="reference internal" href="xspec-analysis.html#xspec-run"><span class="std std-ref">In Xspec</span></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Analyse</strong> the results: Get marginal distributions and computed evidence for the model</dt>
<dd><ul class="first last">
<li><a class="reference internal" href="sherpa-analysis.html#sherpa-analyse"><span class="std std-ref">In Sherpa</span></a></li>
<li><a class="reference internal" href="xspec-analysis.html#xspec-analyse"><span class="std std-ref">In Xspec</span></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Model comparison</strong></dt>
<dd><ul class="first last">
<li><a class="reference internal" href="sherpa-analysis.html#sherpa-models"><span class="std std-ref">In Sherpa</span></a></li>
<li><a class="reference internal" href="xspec-analysis.html#xspec-models"><span class="std std-ref">In Xspec</span></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Experiment design</strong></dt>
<dd><ul class="first last">
<li><a class="reference internal" href="sherpa-analysis.html#sherpa-design"><span class="std std-ref">In Sherpa</span></a></li>
<li><a class="reference internal" href="xspec-analysis.html#xspec-design"><span class="std std-ref">In Xspec</span></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Model discovery</strong>: Quantile-Quantile (QQ) plots</dt>
<dd><ul class="first last">
<li><a class="reference internal" href="sherpa-analysis.html#sherpa-qq"><span class="std std-ref">In Sherpa</span></a></li>
<li><a class="reference internal" href="xspec-analysis.html#xspec-qq"><span class="std std-ref">In Xspec</span></a></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="get-bxa">
<h2>Get BXA<a class="headerlink" href="#get-bxa" title="Permalink to this headline">¶</a></h2>
<p>See the <a class="reference external" href="https://github.com/JohannesBuchner/BXA">code repository page</a></p>
</div>
<div class="section" id="citing-bxa-correctly">
<span id="cite"></span><h2>Citing BXA correctly<a class="headerlink" href="#citing-bxa-correctly" title="Permalink to this headline">¶</a></h2>
<p>Refer to the <a class="reference external" href="http://www.aanda.org/articles/aa/abs/2014/04/aa22971-13/aa22971-13.html">accompaning paper Buchner et al. (2014)</a> which gives introduction and
detailed discussion on the methodology and its statistical footing.</p>
<p>We suggest giving credit to the developers of Sherpa/Xspec, MultiNest and of this software.
As an example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">For</span> <span class="n">analysing</span> <span class="n">X</span><span class="o">-</span><span class="n">ray</span> <span class="n">spectra</span><span class="p">,</span> <span class="n">we</span> <span class="n">use</span> <span class="n">the</span> <span class="n">analysis</span> <span class="n">software</span> <span class="n">BXA</span> <span class="p">(</span>\<span class="n">ref</span><span class="p">{</span><span class="n">Buchner2014</span><span class="p">}),</span>
<span class="n">which</span> <span class="n">connects</span> <span class="n">the</span> <span class="n">nested</span> <span class="n">sampling</span> <span class="n">algorithm</span> <span class="n">MultiNest</span> <span class="p">(</span>\<span class="n">ref</span><span class="p">{</span><span class="n">FerozHobson2010</span><span class="p">})</span>
<span class="k">with</span> <span class="n">the</span> <span class="n">fitting</span> <span class="n">environment</span> <span class="n">CIAO</span><span class="o">/</span><span class="n">Sherpa</span> <span class="p">(</span>\<span class="n">ref</span><span class="p">{</span><span class="n">Fruscione2006</span><span class="p">})</span><span class="o">.</span>
</pre></div>
</div>
<p>Where the BibTex entries are:</p>
<ul>
<li><p class="first">for BXA, PyMultiNest software, and the contributions to X-ray spectral analysis methodology (model comparison, model discovery, Experiment design, Model discovery through QQ-plots):</p>
<blockquote>
<div><ul class="simple">
<li>Buchner et al. (2014) A&amp;A</li>
<li>The paper is available at <a class="reference external" href="http://arxiv.org/abs/arXiv:1402.0004">arXiv:1402.0004</a></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">for MultiNest: see <a class="reference external" href="http://ccpforge.cse.rl.ac.uk/gf/project/multinest/">MultiNest</a></p>
</li>
<li><p class="first">for Sherpa: see <a class="reference external" href="http://cxc.harvard.edu/sherpa/">Sherpa</a></p>
</li>
<li><p class="first">for Xspec: see <a class="reference external" href="http://heasarc.gsfc.nasa.gov/docs/xanadu/xspec/">Xspec</a></p>
</li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>However, you need to have <a class="reference external" href="http://johannesbuchner.github.io/PyMultiNest/">pymultinest</a> and <a class="reference external" href="https://github.com/JohannesBuchner/MultiNest">MultiNest</a>
installed and working.</p>
<ul class="simple">
<li><a class="reference external" href="http://johannesbuchner.github.io/pymultinest-tutorial/install.html#on-your-own-computer">Installation for those two packages only</a></li>
<li><a class="reference external" href="http://johannesbuchner.github.io/PyMultiNest/install.html">Extensive PyMultiNest, PyAPEMoST, PyCuba installation instructions</a></li>
</ul>
<p>You need to have <a class="reference external" href="http://cxc.harvard.edu/sherpa/">Sherpa</a> or <a class="reference external" href="http://heasarc.gsfc.nasa.gov/docs/xanadu/xspec/">Xspec</a> installed and its environment loaded.</p>
<p>The following commands should not yield any error message:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python -c &#39;import pymultinest&#39;
$ python -c &#39;import xspec&#39;
$ sherpa
</pre></div>
</div>
<p>Install the required python packages, through your package manager, through pip or easy_install. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ yum install ipython python-matplotlib scipy numpy matplotlib
$ apt-get install python-numpy python-scipy python-matplotlib ipython

$ pip install tqdm corner --user
</pre></div>
</div>
<p>BXA itself can installed directly from PyPI using pip or easy_install:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ pip install bxa # --user if you want to install locally
</pre></div>
</div>
<p>The source code is available from <a class="reference external" href="https://github.com/JohannesBuchner/BXA">https://github.com/JohannesBuchner/BXA</a>,
so alternatively you can download and install it:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python setup.py install
</pre></div>
</div>
<p>Or if you only want to install it for the current user:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python setup.py install --user
</pre></div>
</div>
</div>
<div class="section" id="running">
<h2>Running<a class="headerlink" href="#running" title="Permalink to this headline">¶</a></h2>
<p>In <em>Sherpa</em>, load the package:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>jbuchner@ds42 ~ $ sherpa
-----------------------------------------------------
Welcome to Sherpa: CXC&#39;s Modeling and Fitting Package
-----------------------------------------------------
CIAO 4.4 Sherpa version 2 Tuesday, June 5, 2012

sherpa-1&gt; import bxa.sherpa as bxa
sherpa-2&gt; bxa.run_model?
</pre></div>
</div>
<p>For <em>Xspec</em>, start python or ipython:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>jbuchner@ds42 ~ $ ipython
In [1]: import xspec

In [2]: import bxa.xspec as bxa

In [3]: bxa.standard_analysis?
</pre></div>
</div>
<p>Now you can use bxa.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation:<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="sherpa-analysis.html">BXA/Sherpa</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sherpa-analysis.html#defining-priors">Defining priors</a></li>
<li class="toctree-l2"><a class="reference internal" href="sherpa-analysis.html#running-the-analysis">Running the analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="sherpa-analysis.html#marginal-plots">Marginal plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="sherpa-analysis.html#error-propagation">Error propagation</a></li>
<li class="toctree-l2"><a class="reference internal" href="sherpa-analysis.html#model-comparison">Model comparison</a></li>
<li class="toctree-l2"><a class="reference internal" href="sherpa-analysis.html#experiment-design">Experiment design</a></li>
<li class="toctree-l2"><a class="reference internal" href="sherpa-analysis.html#model-discovery">Model discovery</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="xspec-analysis.html">BXA/Xspec</a><ul>
<li class="toctree-l2"><a class="reference internal" href="xspec-analysis.html#defining-priors">Defining priors</a></li>
<li class="toctree-l2"><a class="reference internal" href="xspec-analysis.html#running-the-analysis">Running the analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="xspec-analysis.html#marginal-plots">Marginal plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="xspec-analysis.html#error-propagation">Error propagation</a></li>
<li class="toctree-l2"><a class="reference internal" href="xspec-analysis.html#model-comparison">Model comparison</a></li>
<li class="toctree-l2"><a class="reference internal" href="xspec-analysis.html#experiment-design">Experiment design</a></li>
<li class="toctree-l2"><a class="reference internal" href="xspec-analysis.html#model-discovery">Model discovery</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="who-is-using-bxa">
<h2>Who is using BXA?<a class="headerlink" href="#who-is-using-bxa" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Dr. Antonis Georgakakis (MPE, Munich)</li>
<li>Dr. Mike Anderson (MPA, Munich)</li>
<li>Dr. Franz Bauer (PUC, Santiago)</li>
<li>Dr. Stéphane Paltani (ISDC, Geneva)</li>
<li>Zhu Liu (NAO, Beijing)</li>
<li></li>
</ul>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to BXA’s documentation!</a><ul>
<li><a class="reference internal" href="#about-bayesian-x-ray-analysis-bxa">About Bayesian X-ray Analysis (BXA)</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#get-bxa">Get BXA</a></li>
<li><a class="reference internal" href="#citing-bxa-correctly">Citing BXA correctly</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#running">Running</a></li>
<li><a class="reference internal" href="#documentation">Documentation:</a></li>
<li><a class="reference internal" href="#who-is-using-bxa">Who is using BXA?</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="sherpa-analysis.html"
                        title="next chapter">BXA/Sherpa</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sherpa-analysis.html" title="BXA/Sherpa"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">BXA (Bayesian X-ray Analysis) 2.8 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, Johannes Buchner.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.
    </div>
  </body>
</html>